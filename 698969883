å¤ªå¥½äº†ï¼Œé‚£æˆ‘ä»¬å°±æ¥åšä¸€ä¸ªæ›´ç²¾ç¡®çš„ç‰ˆæœ¬ï¼š
ä½ åªæƒ³æŒ‚è½½æŸä¸ª Node ä¸Šçš„ç‰¹å®šè·¯å¾„ï¼Œæ¯”å¦‚ /data/logs æˆ– /var/lib/dockerï¼Œåˆ° Pod é‡Œçš„æŸä¸ªç›®å½•ï¼Œç„¶ååœ¨é‡Œé¢æ‰§è¡Œ lsã€‚

âœ… ç¤ºä¾‹åœºæ™¯ï¼š

æ¯”å¦‚ä½ è¦æŸ¥çœ‹ Node ä¸Šçš„ /data/logsï¼Œé‚£æˆ‘ä»¬æŒ‚è½½è¿™ä¸ªè·¯å¾„åˆ°å®¹å™¨é‡Œçš„ /mnt/logsï¼Œç„¶åæ‰§è¡Œ ls /mnt/logsã€‚

âœ… Pod YAML ç¤ºä¾‹ï¼ˆæŒ‚è½½ Node ä¸Šç‰¹å®šè·¯å¾„ï¼‰

apiVersion: v1
kind: Pod
metadata:
  name: node-log-inspect
spec:
  containers:
  - name: inspect-container
    image: alpine
    command: ["/bin/sh", "-c"]
    args:
      - ls /mnt/logs; sleep 3600
    volumeMounts:
    - name: node-logs
      mountPath: /mnt/logs
    tty: true
    stdin: true
  volumes:
  - name: node-logs
    hostPath:
      path: /data/logs         # <<< ä½ è¦æŸ¥çœ‹çš„ Node ä¸Šçš„çœŸå®è·¯å¾„
      type: Directory
  nodeSelector:
    kubernetes.io/hostname: your-node-name  # <<< æ›¿æ¢ä¸ºç›®æ ‡ Node å
  restartPolicy: Never

ğŸ”§ æ›¿æ¢è¯´æ˜ï¼š
	â€¢	path: /data/logs â€”â€” æ”¹æˆä½ è¦çœ‹çš„ Node ä¸Šçš„è·¯å¾„ï¼›
	â€¢	mountPath: /mnt/logs â€”â€” ä½ å®¹å™¨é‡Œè¦è®¿é—®çš„è·¯å¾„ï¼›
	â€¢	your-node-name â€”â€” æ”¹æˆç›®æ ‡èŠ‚ç‚¹åï¼Œå¯é€šè¿‡ï¼š

kubectl get nodes -o wide

ğŸš€ ä½¿ç”¨æ­¥éª¤ï¼š
	1.	ä¿å­˜ä¸º node-log-inspect.yamlï¼›
	2.	åˆ›å»ºï¼š

kubectl apply -f node-log-inspect.yaml


	3.	æŸ¥çœ‹æ—¥å¿—ï¼ˆls çš„ç»“æœï¼‰ï¼š

kubectl logs node-log-inspect


	4.	è¿›å…¥å®¹å™¨ç»§ç»­æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š

kubectl exec -it node-log-inspect -- /bin/sh
ls /mnt/logs

éœ€è¦æˆ‘æ ¹æ®ä½ çœŸå®è·¯å¾„å’Œ node åå¸®ä½ ç›´æ¥ç”Ÿæˆä¸€ä»½ YAML å—ï¼Ÿåªè¦å‘Šè¯‰æˆ‘ï¼š
	â€¢	ä½ è¦çœ‹çš„ Node å
	â€¢	Node ä¸Šçš„ç›®å½•è·¯å¾„

æˆ‘å¯ä»¥ç›´æ¥å¸®ä½ ç”Ÿæˆã€‚
