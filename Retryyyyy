å¥½çš„ï¼æˆ‘æ¥ç»™ä½ ä¸€ä¸ªå¢å¼ºç‰ˆçš„ retry_on_false()ï¼Œå®ƒä¼šï¼š
	â€¢	æ‰“å°æ¯æ¬¡å°è¯•çš„æ—¶é—´æˆ³
	â€¢	æ ‡è®°ç¬¬å‡ æ¬¡å°è¯•
	â€¢	æ˜ç¡®æŒ‡å‡ºæœ€ç»ˆæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥
	â€¢	æ•´ä¸ªè¿‡ç¨‹æ˜“äºé˜…è¯»å’Œè°ƒè¯•

âœ… å¢å¼ºç‰ˆçš„ retry_on_false()ï¼š

import time
from datetime import datetime

def retry_on_false(func, retries=2, delay=0):
    """
    é‡è¯•ä¸€ä¸ªè¿”å› True/False çš„å‡½æ•°ã€‚
    
    å‚æ•°:
        func: è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œåº”è¿”å› True è¡¨ç¤ºæˆåŠŸï¼ŒFalse è¡¨ç¤ºå¤±è´¥ã€‚
        retries: å¤±è´¥åé‡è¯•çš„æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 2ï¼ˆæ€»å…±å°è¯• 1+2=3 æ¬¡ï¼‰ã€‚
        delay: æ¯æ¬¡é‡è¯•ä¹‹é—´çš„ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ä¸º 0ã€‚
    
    è¿”å›:
        True å¦‚æœæŸæ¬¡æˆåŠŸï¼ŒFalse å¦‚æœæ‰€æœ‰å°è¯•éƒ½å¤±è´¥ã€‚
    """
    for attempt in range(1, retries + 2):  # ä» 1 å¼€å§‹è®¡æ•°ï¼Œæ€»å…±å°è¯• retries+1 æ¬¡
        now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        print(f"[{now}] Attempt {attempt}...", end=' ')
        
        if func():
            print("âœ… Success")
            return True
        else:
            print("âŒ Failed")
            if attempt <= retries:
                time.sleep(delay)

    print("ğŸš« All attempts failed.")
    return False

âœ… ç¤ºä¾‹è°ƒç”¨æ–¹å¼ï¼š

def my_function():
    print("    Doing something...")
    return False  # ä½ å¯ä»¥æ”¹æˆ True æ¨¡æ‹ŸæˆåŠŸ

# æ‰§è¡Œå¸¦é‡è¯•çš„è°ƒç”¨
retry_on_false(my_function, retries=2, delay=1)

ğŸ§ª è¾“å‡ºæ•ˆæœç¤ºä¾‹ï¼ˆå¤±è´¥çš„æƒ…å†µï¼‰ï¼š

[2025-07-07 10:15:32] Attempt 1... âŒ Failed
    Doing something...
[2025-07-07 10:15:33] Attempt 2... âŒ Failed
    Doing something...
[2025-07-07 10:15:34] Attempt 3... âŒ Failed
    Doing something...
ğŸš« All attempts failed.

éœ€è¦æˆ‘å†åŠ ä¸Šæ—¥å¿—å†™å…¥æ–‡ä»¶ï¼ˆæ¯”å¦‚ retry.logï¼‰ï¼Œæˆ–è€…è¿”å›å¤±è´¥æ¬¡æ•°ä¹Ÿä¸€èµ·è®°å½•å—ï¼Ÿå¯ä»¥åšå¾—æ›´ç»†ã€‚
